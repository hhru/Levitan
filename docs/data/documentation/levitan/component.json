{"metadata":{"externalID":"s:7Levitan9ComponentP","role":"symbol","navigatorTitle":[{"text":"Component","kind":"identifier"}],"roleHeading":"Protocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Component"}],"symbolKind":"protocol","modules":[{"name":"Levitan"}],"title":"Component"},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"languages":["swift"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Component"},{"kind":"text","text":" : "},{"preciseIdentifier":"s:SQ","kind":"typeIdentifier","text":"Equatable"},{"kind":"text","text":", "},{"preciseIdentifier":"s:7SwiftUI4ViewP","kind":"typeIdentifier","text":"View"}]}]},{"kind":"content","content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"inlineContent":[{"text":"Протокол ","type":"text"},{"code":"Component","type":"codeVoice"},{"text":" максимально приспособлен для реализации SwiftUI-компонентов,","type":"text"},{"text":" ","type":"text"},{"text":"достаточно реализовать стандартное свойство ","type":"text"},{"code":"body","type":"codeVoice"},{"text":" и метод ","type":"text"},{"type":"codeVoice","code":"sizing(fitting:context:)"},{"text":", например:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct Foo: Component {","","    let text: String","","    var body: some View {","        Text(text)","    }","","    func sizing(fitting size: CGSize, context: ComponentContext) -> ComponentSizing {","        ComponentSizing(width: .fill, height: .hug)","    }","}"]},{"inlineContent":[{"text":"Для удобства реализации UIKit-компонентов используется протокол ","type":"text"},{"code":"FallbackComponent","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"который так же соответствует протоколу ","type":"text"},{"code":"Component","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"но предоставляет другую реализацию по умолчанию для некоторых его полей.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Любой UI-компонент, соответствующий этому протоколу "},{"type":"codeVoice","code":"Component"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"можно использовать и в SwiftUI, и UIKit."}],"type":"paragraph"},{"anchor":"%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B2-SwiftUI","type":"heading","level":1,"text":"Использование в SwiftUI"},{"inlineContent":[{"type":"text","text":"Использование компонента в SwiftUI ничем не отличается от использования обычного UI-представления, например:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct Bar: View {","","    var body: some View {","        Foo(text: \"Hello world\")","    }","}"]},{"anchor":"%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B2-UIKit","type":"heading","level":1,"text":"Использование в UIKit"},{"inlineContent":[{"text":"В UIKit данные и UI-представление разделены, при этом сам компонент является данными.","type":"text"},{"text":" ","type":"text"},{"text":"UI-представление создается под ассоциированным типом ","type":"text"},{"code":"UIView","type":"codeVoice"},{"text":" компонента,","type":"text"},{"text":" ","type":"text"},{"text":"а данные обновляются его методом ","type":"text"},{"code":"update(with:context:)","type":"codeVoice"},{"text":", например:","type":"text"}],"type":"paragraph"},{"code":["class BarView: UIView {","","    let fooView = Foo.UIView()","","    override init(frame: CGRect = .zero) {","        super.init(frame: frame)","","        setupFooView()","    }","","    func setupBarView() {","        addSubview(fooView)","","        fooView.snp.makeConstraints { make in","            make.edges.equalToSuperview()","        }","","        \/\/ Обновление компонента","        fooView.update(","            with: Foo(text: \"Hello world\"),","            context: .default","        )","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"В этом примере UI-представление компонента обновляется, используя контекст по умолчанию,","type":"text"},{"text":" ","type":"text"},{"text":"но в реальном приложении рекомендуется создавать его на уровне корневого компонента","type":"text"},{"text":" ","type":"text"},{"text":"и передавать по цепочке в иерархии компонентов.","type":"text"}],"type":"paragraph"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/FallbackComponent","type":"reference","isActive":true}]}],"type":"aside","name":"See Also"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ComponentContext","isActive":true,"type":"reference"}]}],"type":"aside","name":"See Also"},{"style":"note","content":[{"inlineContent":[{"text":"","type":"text"},{"isActive":true,"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ComponentView","type":"reference"}],"type":"paragraph"}],"type":"aside","name":"See Also"}]}],"abstract":[{"type":"text","text":"Общий протокол для всех UI-компонентов."}],"schemaVersion":{"major":0,"patch":0,"minor":3},"topicSections":[{"identifiers":["doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/UIView"],"generated":true,"anchor":"Associated-Types","title":"Associated Types"},{"identifiers":["doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/eraseToAnyComponent()","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/sizing(fitting:context:)-yg7"],"generated":true,"anchor":"Instance-Methods","title":"Instance Methods"}],"hierarchy":{"paths":[["doc:\/\/ru.hh.Levitan\/documentation\/Levitan"]]},"relationshipsSections":[{"kind":"relationships","identifiers":["doc:\/\/ru.hh.Levitan\/SQ","doc:\/\/ru.hh.Levitan\/7SwiftUI4ViewP"],"type":"inheritsFrom","title":"Inherits From"},{"kind":"relationships","identifiers":["doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/FallbackComponent","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/FallbackManualComponent","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ManualComponent"],"type":"inheritedBy","title":"Inherited By"},{"kind":"relationships","identifiers":["doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/AnyComponent","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/AnyManualComponent","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/SwiftUICore\/ModifiedContent","doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Text"],"type":"conformingTypes","title":"Conforming Types"}],"identifier":{"url":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/levitan\/component"]}],"sections":[],"kind":"symbol","references":{"doc://ru.hh.Levitan/documentation/Levitan/Component":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Component"}],"navigatorTitle":[{"kind":"identifier","text":"Component"}],"title":"Component","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component","type":"topic","url":"\/documentation\/levitan\/component","abstract":[{"text":"Общий протокол для всех UI-компонентов.","type":"text"}],"role":"symbol","kind":"symbol"},"doc://ru.hh.Levitan/documentation/Levitan/FallbackManualComponent":{"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/FallbackManualComponent","url":"\/documentation\/levitan\/fallbackmanualcomponent","abstract":[{"type":"text","text":"Частный случай "},{"type":"codeVoice","code":"FallbackComponent"},{"type":"text","text":" для UIKit-компонентов, который используют только стратегию"},{"type":"text","text":" "},{"type":"text","text":"с фиксированным размером."}],"title":"FallbackManualComponent","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"FallbackManualComponent"}],"navigatorTitle":[{"kind":"identifier","text":"FallbackManualComponent"}],"kind":"symbol","role":"symbol"},"doc://ru.hh.Levitan/documentation/Levitan/AnyManualComponent":{"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/AnyManualComponent","abstract":[{"text":"Компонент-обертка, по аналогии с ","type":"text"},{"type":"codeVoice","code":"AnyComponent"},{"text":", который стирает тип оборачиваемого компонента","type":"text"},{"text":" ","type":"text"},{"text":"c фиксированным размером.","type":"text"}],"kind":"symbol","navigatorTitle":[{"text":"AnyManualComponent","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AnyManualComponent","kind":"identifier"}],"url":"\/documentation\/levitan\/anymanualcomponent","title":"AnyManualComponent","type":"topic","role":"symbol"},"doc://ru.hh.Levitan/SQ":{"title":"Swift.Equatable","type":"unresolvable","identifier":"doc:\/\/ru.hh.Levitan\/SQ"},"doc://ru.hh.Levitan/documentation/Levitan/Component/UIView":{"type":"topic","fragments":[{"text":"associatedtype","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UIView","kind":"identifier"},{"text":" : ","kind":"text"},{"text":"ComponentView","kind":"typeIdentifier","preciseIdentifier":"s:7Levitan13ComponentViewP"},{"text":" = ","kind":"text"},{"text":"ComponentHostingView","kind":"typeIdentifier","preciseIdentifier":"s:7Levitan20ComponentHostingViewC"},{"text":"<","kind":"text"},{"text":"Self","kind":"typeIdentifier"},{"text":">","kind":"text"}],"role":"symbol","title":"UIView","abstract":[{"type":"text","text":"UIKit-представление компонента для использования в UIKit-контейнере."}],"url":"\/documentation\/levitan\/component\/uiview","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/UIView","kind":"symbol","required":true},"doc://ru.hh.Levitan/documentation/Levitan/ManualComponent":{"role":"symbol","kind":"symbol","url":"\/documentation\/levitan\/manualcomponent","type":"topic","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ManualComponent","kind":"identifier"}],"title":"ManualComponent","abstract":[{"type":"text","text":"Частный случай протокола "},{"code":"Component","type":"codeVoice"},{"type":"text","text":", Размеры UI-компонента фиксированы и задаются вручную, пример:"}],"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ManualComponent","navigatorTitle":[{"text":"ManualComponent","kind":"identifier"}]},"doc://ru.hh.Levitan/documentation/Levitan/FallbackComponent":{"title":"FallbackComponent","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"FallbackComponent","kind":"identifier"}],"type":"topic","url":"\/documentation\/levitan\/fallbackcomponent","navigatorTitle":[{"text":"FallbackComponent","kind":"identifier"}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/FallbackComponent","abstract":[{"text":"Протокол для UIKit-компонентов.","type":"text"}]},"doc://ru.hh.Levitan/7SwiftUI4ViewP":{"type":"unresolvable","title":"SwiftUICore.View","identifier":"doc:\/\/ru.hh.Levitan\/7SwiftUI4ViewP"},"doc://ru.hh.Levitan/documentation/Levitan/AnyComponent":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AnyComponent"}],"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/AnyComponent","url":"\/documentation\/levitan\/anycomponent","navigatorTitle":[{"kind":"identifier","text":"AnyComponent"}],"abstract":[{"type":"text","text":"Компонент-обертка, который стирает тип оборачиваемого компонента."}],"kind":"symbol","type":"topic","title":"AnyComponent","role":"symbol"},"doc://ru.hh.Levitan/documentation/Levitan":{"url":"\/documentation\/levitan","kind":"symbol","role":"collection","title":"Levitan","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan","type":"topic","abstract":[]},"doc://ru.hh.Levitan/documentation/Levitan/SwiftUICore/ModifiedContent":{"abstract":[],"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/SwiftUICore\/ModifiedContent","conformance":{"constraints":[{"type":"codeVoice","code":"Content"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"ManualComponent"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Modifier"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"ManualComponentModifier"},{"type":"text","text":"."}],"conformancePrefix":[{"type":"text","text":"Conforms when"}],"availabilityPrefix":[{"type":"text","text":"Available when"}]},"role":"symbol","title":"ModifiedContent","fragments":[{"kind":"keyword","text":"extension"},{"kind":"text","text":" "},{"preciseIdentifier":"s:7SwiftUI15ModifiedContentV","kind":"identifier","text":"ModifiedContent"}],"url":"\/documentation\/levitan\/swiftuicore\/modifiedcontent","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ModifiedContent"}],"kind":"symbol"},"doc://ru.hh.Levitan/documentation/Levitan/ComponentView":{"abstract":[{"text":"Общий протокол для UIKit-представлений любого компонента.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ComponentView","title":"ComponentView","type":"topic","role":"symbol","url":"\/documentation\/levitan\/componentview","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ComponentView","kind":"identifier"}],"navigatorTitle":[{"text":"ComponentView","kind":"identifier"}]},"doc://ru.hh.Levitan/documentation/Levitan/Text":{"url":"\/documentation\/levitan\/text","kind":"symbol","type":"topic","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Text"}],"title":"Text","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Text","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Text"}],"abstract":[]},"doc://ru.hh.Levitan/documentation/Levitan/ComponentContext":{"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ComponentContext","kind":"identifier"}],"identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/ComponentContext","abstract":[{"type":"text","text":"Контекст компонента."}],"role":"symbol","title":"ComponentContext","type":"topic","url":"\/documentation\/levitan\/componentcontext","navigatorTitle":[{"text":"ComponentContext","kind":"identifier"}]},"doc://ru.hh.Levitan/documentation/Levitan/Component/sizing(fitting:context:)-yg7":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"sizing"},{"kind":"text","text":"("},{"kind":"externalParam","text":"fitting"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CGSize","preciseIdentifier":"c:@S@CGSize"},{"kind":"text","text":", "},{"kind":"externalParam","text":"context"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ComponentContext","preciseIdentifier":"s:7Levitan16ComponentContextV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ComponentSizing","preciseIdentifier":"s:7Levitan15ComponentSizingV"}],"title":"sizing(fitting:context:)","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/sizing(fitting:context:)-yg7","type":"topic","url":"\/documentation\/levitan\/component\/sizing(fitting:context:)-yg7","abstract":[{"text":"Возвращает данные для определения размеров компонента.","type":"text"}],"required":true,"role":"symbol","kind":"symbol","defaultImplementations":2},"doc://ru.hh.Levitan/documentation/Levitan/Component/eraseToAnyComponent()":{"role":"symbol","kind":"symbol","type":"topic","identifier":"doc:\/\/ru.hh.Levitan\/documentation\/Levitan\/Component\/eraseToAnyComponent()","url":"\/documentation\/levitan\/component\/erasetoanycomponent()","abstract":[{"text":"Оборачивает компонент в обертку со стертым типом.","type":"text"}],"title":"eraseToAnyComponent()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"eraseToAnyComponent","kind":"identifier"},{"text":"() -> ","kind":"text"},{"preciseIdentifier":"s:7Levitan12AnyComponentV","text":"AnyComponent","kind":"typeIdentifier"}]}}}